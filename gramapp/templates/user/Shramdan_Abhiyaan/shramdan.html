{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "Shramdan & Community Initiatives - Panchayat App" %}{% endblock %}
{% block page_title %}{% trans "Shramdan & Community" %}{% endblock %}

{% block content %}
<main class="w-full">
    <!-- ✅ Page Header -->
    <h2 class="text-lg sm:text-2xl font-bold text-gray-700 text-center mb-3 sm:mb-5">
        {% trans "Participate in Community Initiatives" %}
    </h2>

    <!-- ✅ About Shramdan Section -->
    <section class="mb-2 sm:mb-3 px-3 sm:px-3">
        <p class="text-gray-600 text-sm sm:text-lg text-justify leading-relaxed">
            {% trans "Shramdan is an opportunity to give back to the community. Explore events and participate in various Abhiyaans to make a difference." %}
        </p>
    </section>

    <!-- ✅ Swiper Carousel Container -->
    <section class="relative w-full max-w-4xl mx-auto mt-3">
        <div class="swiper mySwiper">
            <div class="swiper-wrapper">
                {% for event in events %}
                <div class="swiper-slide">
                    <img src="data:image/jpeg;base64,{{ event.image_base64 }}" alt="{{ event.name }}"
                    class="w-full h-64 sm:h-80 object-contain rounded-lg shadow-lg">
                </div>
                {% empty %}
                <p class="text-center text-gray-500">{% trans "No events available" %}</p>
                {% endfor %}
            </div>

            <!-- ✅ Navigation Buttons -->
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>

            <!-- ✅ Pagination Dots -->
            <div class="swiper-pagination"></div>
        </div>
    </section>


    <!-- ✅ How to Participate Section -->
    <section class="text-center px-3 sm:px-6 mb-12">
        <h3 class="text-lg font-semibold text-blue-600 mb-3">{% trans "How to Participate" %}</h3>
        <p class="text-gray-600 text-sm sm:text-lg leading-relaxed">
            {% trans "To participate in Shramdan activities, check out the upcoming events or contact your local Panchayat office." %}
        </p>
    </section>
</main>

<!-- ✅ Swiper.js Styles & Script -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>

<!-- ✅ Initialize Swiper -->
<script>
    window.onload = function () {
        new Swiper(".mySwiper", {
            loop: true,
            autoplay: {
                delay: 3000,
                disableOnInteraction: false,
            },
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        });
    };
</script>

{% endblock %}
{% extends 'base.html' %}
{% load i18n %} <!-- Add this line to load the i18n template tags -->
{% block bottom_nav %}{% endblock %} <!-- Removes bottom nav -->

{% block page_title %}{% trans "Staff Login - Panchayat App" %}{% endblock %}

{% block content %}
<!-- Back Button -->
<div class="px-2 sm:px-6 pt-2">
    <a href="{% url 'home_view' %}" class="text-blue-600 hover:text-blue-700 hover:underline flex items-center">
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        {% trans "Back to Home" %}
    </a>
</div>

<!-- Full-Screen Staff Login Page -->
<div class="min-h-screen mt-4 items-center justify-center bg-gray-100">
    <div class=" max-w-md bg-white shadow-lg rounded-lg mx-1 sm:mx-0 py-6">

        <!-- Login Heading -->
        <h2 class="text-xl sm:text-2xl font-semibold text-center text-gray-800 mb-4">
            🔒 {% trans "Staff Login" %}
        </h2>

        <!-- Login Form -->
        <form method="POST" class="px-6 pb-6">
            {% csrf_token %}

            <!-- Username Field -->
            <div class="mb-4">
                <label for="username" class="block text-sm font-medium text-gray-700 mb-1">
                    👤 {% trans "Username" %}
                </label>
                <input 
                    type="text" 
                    id="username" 
                    name="username" 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" 
                    placeholder="{% trans 'Enter your staff username' %}" 
                    required>
            </div>

            <!-- Password Field -->
            <div class="mb-4">
                <label for="password" class="block text-sm font-medium text-gray-700 mb-1">
                    🔑 {% trans "Password" %}
                </label>
                <input 
                    type="password" 
                    id="password" 
                    name="password" 
                    class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition" 
                    placeholder="{% trans 'Enter your password' %}" 
                    required>
            </div>

            <!-- Error Message -->
            {% if form.errors %}
            <div class="text-red-600 text-sm mb-4">
                ❌ {% trans "Invalid username or password. Please try again." %}
            </div>
            {% endif %}

            <!-- Submit Button -->
            <div class="flex justify-center">
                <button 
                    type="submit" 
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm sm:text-base font-medium shadow-md transition-transform hover:scale-105">
                    {% trans "Login" %}
                </button>
            </div>
        </form>

        <!-- Register Link (Hidden or Restricted for Staff) -->
        <p class="text-center text-sm text-gray-600 mt-1 px-6">
            {% trans "Not registered? Contact your administrator for staff access." %}
        </p>
    </div>
</div>
{% endblock %}